{% extends "base.html" %}

{% block content %}
<style>
    .dashboard-container {
        display: flex;
        height: 100vh;
        color: var(--mdc-theme-on-surface);
    }

    .left-side, .right-side {
        flex: 1;
        display: flex;
        flex-direction: column;
        padding: 1rem;
        gap: 1rem;
    }

    .data-section, .actions-section, .logs {
        background-color: var(--mdc-theme-surface);
        border-radius: 8px;
        margin-bottom: 1rem;
        padding: 1rem;
    }

    .daily-banner img {
        max-width: 100%;
        height: auto;
        border-radius: 4px;
    }

    .stats {
        text-align: center;
        padding: 1rem 0;
    }

    .actions-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 1rem;
    }

    .actions-grid button {
        padding: 1rem;
        cursor: pointer;
        border: none;
        background-color: var(--mdc-theme-primary);
        color: var(--mdc-theme-on-primary);
        border-radius: 4px;
        font-size: 1rem;
    }

    .logs {
        overflow-y: auto;
    }

    table {
        width: 100%;
        border-collapse: collapse;
    }

    table th, table td {
        padding: 0.5rem;
        border-bottom: 1px solid var(--mdc-theme-background);
    }

    table thead th {
        position: sticky;
        top: 0;
        background-color: var(--mdc-theme-surface);
        color: var(--mdc-theme-text-primary-on-background);
    }

    /* Padding below the app bar */
    .mdc-top-app-bar--fixed-adjust {
        padding-top: 64px; /* Adjust this value based on your app bar's height */
    }

    /* Ensure buttons have the ripple effect */
    .mdc-button {
        /* other styles */
    }

    .mdc-button:not(:disabled) {
        /* other styles */
    }
</style>

<div class="dashboard-container">
    <div class="left-side">
        <div class="data-section">
            <div class="daily-banner">
                <img src="{{ daily_banner_url }}" alt="Daily Banner" />
            </div>
            <div class="stats">
                <h2>Statistics</h2>
                <p>Admins Count: {{ admins_count }}</p>
                <p>Total Banners Count: {{ banners_count }}</p>
            </div>
        </div>
        <div class="actions-section">
            <h2>Actions</h2>
            <div class="actions-grid">
                {% for n in range(1, 10) %}
                <button class="mdc-button mdc-button--raised" data-mdc-auto-init="MDCRipple">Action {{ n }}</button>
                {% endfor %}
            </div>
        </div>
    </div>
    <div class="right-side">
        <div class="logs">
            <h2>Admin Actions Log</h2>
            <table class="mdc-data-table__table">
                <thead>
                    <tr>
                        <th class="mdc-data-table__header-cell" role="columnheader" scope="col">Date</th>
                        <th class="mdc-data-table__header-cell" role="columnheader" scope="col">Admin</th>
                        <th class="mdc-data-table__header-cell" role="columnheader" scope="col">Action</th>
                    </tr>
                </thead>
                <tbody class="mdc-data-table__content">
                    {% for log in admin_logs %}
                    <tr class="mdc-data-table__row">
                        <td class="mdc-data-table__cell">{{ log.date }}</td>
                        <td class="mdc-data-table__cell">{{ log.admin_name }}</td>
                        <td class="mdc-data-table__cell">{{ log.action }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>

<script>
    // At the end of your content block, re-initialize MDC Web components for the ripple effect
    mdc.autoInit();
</script>
{% endblock %}
